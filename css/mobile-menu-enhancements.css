/* Mobile Navigation Enhancement - Ensure dropdown is visible when active */
@media (max-width: 768px) {
    .dropdown-content {
        /* Simplified dropdown visibility */
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        visibility: hidden; /* Add visibility property */
        transition: max-height 0.3s, opacity 0.3s, visibility 0.3s;

        /* More forceful display properties */
        position: static !important; /* Force static positioning */
        display: none !important; /* Force hide by default */
        box-shadow: none !important; /* Remove box shadow */
        background: rgba(0,0,0,0.1) !important; /* Subtle background */
        margin-left: 15px !important; /* Indent the dropdown items */
    }

    .dropdown-content.active {
        max-height: 500px;
        opacity: 1;
        visibility: visible; /* Ensure visibility is set to visible */
        padding-top: 5px;
        padding-bottom: 5px;
        display: block !important; /* Force display */
    }

    /* Ensure no hover effects on mobile interfere */
    .dropdown:hover .dropdown-content {
        max-height: 0;
        opacity: 0;
        visibility: hidden;
    }

    /* Only show active dropdowns */
    .dropdown.active .dropdown-content {
        max-height: 500px;
        opacity: 1;
        visibility: visible;
        display: block !important; /* Force display when active */
    }

    /* Service dropdown specific styling if needed */
    .dropdown:has(> a:contains("Services")).active > .dropdown-content {
        display: block !important;
        max-height: none !important;
    }

    /* Add clear visual indicator */
    .dropdown > a::after {
        content: "â–¼";
        display: inline-block;
        margin-left: 8px;
        font-size: 10px;
        transition: transform 0.3s;
    }

    .dropdown.active > a::after {
        transform: rotate(180deg); /* Flip the arrow when active */
        transition: transform 0.3s ease;
    }

    /* Add tap highlight */
    .dropdown > a {
        -webkit-tap-highlight-color: rgba(255, 255, 255, 0.2);
        position: relative;
    }

    /* Debug outline to test the tap area */
    .dropdown.debug > a {
        outline: 2px dashed rgba(255, 0, 0, 0.5);
    }

    /* Force visible styles for test purposes */
    .dropdown.active > a {
        background-color: rgba(255,255,255,0.1) !important;
        color: #fff !important;
        font-weight: bold !important;
    }
}