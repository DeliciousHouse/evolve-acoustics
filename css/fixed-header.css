/**
 * Fixed Header CSS
 *
 * This stylesheet implements a fixed header that remains visible while scrolling
 * without causing layout shifts or performance issues.
 */

/* === FIXED HEADER STYLES === */
header.site-header, /* Be specific with your main header selector */
nav.navbar { /* Add other common header selectors if needed */
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 1000 !important;

    display: flex; /* Use flexbox for internal layout */
    align-items: center; /* Vertically align items */
    justify-content: space-between; /* Example: logo left, nav right */
    padding: 0 20px; /* Horizontal padding */

    background-color: rgba(30, 50, 60, 0.95); /* Dark, slightly transparent */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);

    height: 70px; /* Define a base height for the header */
    transition: height 0.3s ease-out, background-color 0.3s ease-out, box-shadow 0.3s ease-out;

    /* Hardware acceleration for smoother performance */
    transform: translateZ(0);
    will-change: height, background-color, box-shadow;
}

/* Create space for the fixed header */
body {
  padding-top: 230px; /* Adjust based on header height + extra padding */
}

/* Header shrink effect on scroll */
.header-shrink {
  transform: translateY(-20px); /* Slightly shift up to show less of the header */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
}

.header-shrink .logo-img {
  height: 150px; /* Reduce logo size when scrolling */
  transition: height 0.3s ease;
}

/* Hide header when scrolling down (optional) */
.header-hidden {
  transform: translateY(-100%);
}

/* Ensure content stays behind the header */
main {
  position: relative;
  z-index: 1;
}

/* Smooth transition for logo */
.logo-img {
  transition: height 0.3s ease;
}

/* Adjust navigation for fixed header */
nav ul {
  transition: padding 0.3s ease;
}

/* Make room for fixed header on anchor links */
:target::before {
  content: "";
  display: block;
  height: 230px; /* Adjust to match header height */
  margin-top: -230px;
  visibility: hidden;
}

/* Responsive adjustments */
@media screen and (max-width: 768px) {
  body {
    padding-top: 100px; /* Less padding for mobile */
  }

  header {
    padding: 10px 15px;
  }

  .logo-img {
    height: 80px; /* Smaller logo for mobile */
  }

  .header-shrink .logo-img {
    height: 60px;
  }

  :target::before {
    height: 100px;
    margin-top: -100px;
  }
}

/* Styles for when the header shrinks (class added by js/fixed-header.js) */
header.site-header.header-shrink,
nav.navbar.header-shrink {
    height: 55px; /* Reduced height */
    background-color: rgba(25, 40, 50, 0.98); /* Slightly more opaque or different color */
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
}

/* Header Logo Styling - CRITICAL FOR "IMAGE SIZE AWARENESS" */
header.site-header .logo a, /* Assuming logo is a link */
header.site-header .logo img {
    display: inline-block; /* Or block, depending on layout */
    height: 40px; /* Define a specific height for the logo */
    width: auto; /* Maintain aspect ratio */
    max-height: 100%; /* Ensure it doesn't exceed parent's padding box */
    margin: auto 0; /* Vertical centering if header uses flex */
    transition: height 0.3s ease-out;
}

header.site-header.header-shrink .logo a,
header.site-header.header-shrink .logo img {
    height: 30px; /* Slightly smaller logo in shrunk header */
}

/* General styling for other images directly within the header, if any */
header.site-header > img:not(.logo), /* Exclude logo if styled separately */
nav.navbar > img:not(.logo) {
    max-height: calc(100% - 20px); /* Example: ensure padding around image */
    height: auto;
    width: auto;
    object-fit: contain;
}


/* Header Navigation Links Styling (Example) */
header.site-header nav ul,
nav.navbar nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
}

header.site-header nav ul li,
nav.navbar nav ul li {
    margin-left: 20px;
}

header.site-header nav ul li a,
nav.navbar nav ul li a {
    text-decoration: none;
    color: #f0f0f0;
    font-weight: 500;
    transition: color 0.3s ease;
}

header.site-header nav ul li a:hover,
nav.navbar nav ul li a:hover {
    color: #4fd5ff; /* Highlight color */
}

/* Optional: Backdrop filter for modern browsers */
@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
    header.site-header,
    nav.navbar {
        background-color: rgba(30, 50, 60, 0.85); /* More transparent with blur */
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
    }

    header.site-header.header-shrink,
    nav.navbar.header-shrink {
        background-color: rgba(25, 40, 50, 0.9);
    }
}
