/**
 * Fixed Header CSS
 *
 * This stylesheet implements a fixed header that remains visible while scrolling
 * without causing layout shifts or performance issues.
 */

/* === FIXED HEADER STYLES === */
header, /* Target the main header element */
header.site-header,
nav.navbar {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 1000 !important;

    display: flex; /* Use flexbox for internal layout */
    align-items: center; /* Vertically align items */
    justify-content: space-between; /* Example: logo left, nav right */
    padding: 0 20px; /* Horizontal padding */

    background-color: rgba(30, 50, 60, 0.95); /* Dark, slightly transparent */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);

    height: 70px; /* Define a base height for the header */
    transition: height 0.3s ease-out, background-color 0.3s ease-out, box-shadow 0.3s ease-out;

    /* Hardware acceleration for smoother performance */
    transform: translateZ(0);
    will-change: height, background-color, box-shadow;
}

/* Create space for the fixed header */
body {
  /* NO STATIC PADDING-TOP HERE - it's handled by JavaScript */
  /* js/fixed-header.js should be adding padding-top based on actual header.offsetHeight */
}

/* Commented out potentially conflicting generic shrink rules from previous versions */
/* .header-shrink { ... } */
/* .header-shrink .logo-img { ... } */

/* Hide header when scrolling down (optional) */
.header-hidden {
  transform: translateY(-100%);
  transition: transform 0.3s ease-out; /* Added transition */
}

/* Ensure content stays behind the header */
main {
  position: relative;
  z-index: 1; /* Lower than header's z-index */
}

/* Smooth transition for logo */
.logo-img {
  display: block;
  width: auto;
  object-fit: contain;
  transition: height 0.3s ease;
}

/* Default logo size */
header .logo-img,
header.site-header .logo-img,
nav.navbar .logo-img {
  height: 40px; /* Default height when not shrunk */
}

/* Shrunk header logo size */
header.header-shrink .logo-img,
header.site-header.header-shrink .logo-img,
nav.navbar.header-shrink .logo-img {
  height: 30px; /* Smaller when header is shrunk */
}

/* Adjust navigation for fixed header */
nav ul {
  transition: padding 0.3s ease;
}

/* Styles for when the header shrinks (class added by js/fixed-header.js) */
header.site-header.header-shrink,
nav.navbar.header-shrink {
    height: 55px; /* Reduced height */
    background-color: rgba(25, 40, 50, 0.98); /* Slightly more opaque or different color */
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
    /* Ensure transform from generic .header-shrink is not applied or is overridden if necessary */
    transform: translateY(0); /* Explicitly reset transform if the generic one was causing issues */
}

/* Header Logo Styling - CRITICAL FOR "IMAGE SIZE AWARENESS" */
header.site-header .logo a, /* Assuming logo is a link */
header.site-header .logo img {
    display: inline-block; /* Or block, depending on layout */
    height: 40px; /* Define a specific height for the logo */
    width: auto; /* Maintain aspect ratio */
    max-height: 100%; /* Ensure it doesn't exceed parent's padding box */
    margin: auto 0; /* Vertical centering if header uses flex */
    transition: height 0.3s ease-out;
}

header.site-header.header-shrink .logo a,
header.site-header.header-shrink .logo img {
    height: 30px; /* Slightly smaller logo in shrunk header */
}

/* General styling for other images directly within the header, if any */
header.site-header > img:not(.logo), /* Exclude logo if styled separately */
nav.navbar > img:not(.logo) {
    max-height: calc(100% - 20px); /* Example: ensure padding around image */
    height: auto;
    width: auto;
    object-fit: contain;
}


/* Header Navigation Links Styling (Example) */
header.site-header nav ul,
nav.navbar nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
}

header.site-header nav ul li,
nav.navbar nav ul li {
    margin-left: 20px;
}

header.site-header nav ul li a,
nav.navbar nav ul li a {
    text-decoration: none;
    color: #f0f0f0;
    font-weight: 500;
    transition: color 0.3s ease;
}

header.site-header nav ul li a:hover,
nav.navbar nav ul li a:hover {
    color: #4fd5ff; /* Highlight color */
}

/* Optional: Backdrop filter for modern browsers */
@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
    header.site-header,
    nav.navbar {
        background-color: rgba(30, 50, 60, 0.85); /* More transparent with blur */
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
    }

    header.site-header.header-shrink,
    nav.navbar.header-shrink {
        background-color: rgba(25, 40, 50, 0.9);
    }
}
