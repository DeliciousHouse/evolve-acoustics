document.addEventListener("DOMContentLoaded",function(){let l={touchEvents:[],scrollEvents:[],wheelEvents:[]},o=null;function s(){var e,t,n;o&&(e=r(l.touchEvents),t=r(l.scrollEvents),n=r(l.wheelEvents),o.innerHTML=`
            <p><strong>Touch Events:</strong> ${e.toFixed(2)}ms avg (${l.touchEvents.length} samples)</p>
            <p><strong>Scroll Events:</strong> ${t.toFixed(2)}ms avg (${l.scrollEvents.length} samples)</p>
            <p><strong>Wheel Events:</strong> ${n.toFixed(2)}ms avg (${l.wheelEvents.length} samples)</p>
            <p><small>Passive event listeners are ${window.passiveSupported?"supported":"not supported"} by this browser</small></p>
        `)}function r(e){return 0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length}{let e=document.createElement("div");e.style.position="fixed",e.style.bottom="10px",e.style.right="10px",e.style.backgroundColor="rgba(0, 0, 0, 0.7)",e.style.color="#fff",e.style.padding="10px",e.style.borderRadius="5px",e.style.fontSize="12px",e.style.zIndex="9999",e.style.maxWidth="300px",e.style.maxHeight="200px",e.style.overflowY="auto",e.style.display="none";var t=document.createElement("h3"),n=(t.textContent="Performance Monitor",t.style.margin="0 0 10px 0",t.style.fontSize="14px",e.appendChild(t),(t=document.createElement("button")).textContent="Toggle Monitor",t.style.position="fixed",t.style.bottom="10px",t.style.right="10px",t.style.padding="5px 10px",t.style.backgroundColor="#2a9d8f",t.style.color="#fff",t.style.border="none",t.style.borderRadius="3px",t.style.cursor="pointer",t.style.zIndex="10000",document.createElement("div"));n.id="perf-report",n.innerHTML="<p>Collecting performance data...</p>",e.appendChild(n),o=n,document.body.appendChild(e),document.body.appendChild(t),t.addEventListener("click",function(){"none"===e.style.display?(e.style.display="block",s()):e.style.display="none"}),e}{let n=Element.prototype.addEventListener;Element.prototype.addEventListener=function(e,o,t){return e.startsWith("touch")?n.call(this,e,function(e){var t=performance.now(),n=o.apply(this,arguments),t=performance.now()-t;return l.touchEvents.length<100&&(l.touchEvents.push(t),s()),n},t):n.call(this,e,o,t)},window.addEventListener("scroll",function(){var e=performance.now()-window.lastScrollTime;l.scrollEvents.length<100&&e<100&&(l.scrollEvents.push(e),s()),window.lastScrollTime=performance.now()},{passive:!0}),window.addEventListener("wheel",function(){var e=performance.now()-window.lastWheelTime;l.wheelEvents.length<100&&e<100&&(l.wheelEvents.push(e),s()),window.lastWheelTime=performance.now()},{passive:!0}),window.lastScrollTime=performance.now(),window.lastWheelTime=performance.now()}console.log("Performance monitoring initialized")});